Version: 1
Description: Replace all the foundation specific constants in manifest from lock file
-----------------
            output.processManifest.doLast {
                [
                    output.processManifest.manifestOutputFile,
                    output.processManifest.instantRunManifestOutputFile
                ].forEach({ File manifestOutFile ->
                    if (manifestOutFile.exists()) {
                        // Get the manifest content from our generated file
                        def manifest = new File(rootProject.projectDir, 'RNFoundation-AndroidManifest.xml').text;
                        // replace all the foundation constants in the manifest
                        // with value available from the lock file
                        def content = manifest.replaceAll(/\{\{([\w.]*)\}\}/) { all, key ->
                            foundation.constants.android[key]
                        }

                        println content

                        manifestOutFile.write(content, "UTF-8")
                    }
                })
            }